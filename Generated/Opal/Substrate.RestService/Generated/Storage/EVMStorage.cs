//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Substrate.NetApi.Model.Types.Base;
using Substrate.ServiceLayer.Attributes;
using Substrate.ServiceLayer.Storage;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace Substrate.RestService.Generated.Storage
{
    
    
    /// <summary>
    /// IEVMStorage interface definition.
    /// </summary>
    public interface IEVMStorage : IStorage
    {
        
        /// <summary>
        /// >> AccountCodes
        /// </summary>
        Substrate.NetApi.Model.Types.Base.BaseVec<Substrate.NetApi.Model.Types.Primitive.U8> GetAccountCodes(string key);
        
        /// <summary>
        /// >> AccountCodesMetadata
        /// </summary>
        Opal.NetApi.Generated.Model.pallet_evm.CodeMetadata GetAccountCodesMetadata(string key);
        
        /// <summary>
        /// >> AccountStorages
        /// </summary>
        Opal.NetApi.Generated.Model.primitive_types.H256 GetAccountStorages(string key);
        
        /// <summary>
        /// >> CurrentLogs
        ///  Written on log, reset after transaction
        ///  Should be empty between transactions
        /// </summary>
        Substrate.NetApi.Model.Types.Base.BaseVec<Opal.NetApi.Generated.Model.ethereum.log.Log> GetCurrentLogs();
    }
    
    /// <summary>
    /// EVMStorage class definition.
    /// </summary>
    public sealed class EVMStorage : IEVMStorage
    {
        
        /// <summary>
        /// _accountCodesTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Substrate.NetApi.Model.Types.Base.BaseVec<Substrate.NetApi.Model.Types.Primitive.U8>> _accountCodesTypedStorage;
        
        /// <summary>
        /// _accountCodesMetadataTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Opal.NetApi.Generated.Model.pallet_evm.CodeMetadata> _accountCodesMetadataTypedStorage;
        
        /// <summary>
        /// _accountStoragesTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Opal.NetApi.Generated.Model.primitive_types.H256> _accountStoragesTypedStorage;
        
        /// <summary>
        /// _currentLogsTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Substrate.NetApi.Model.Types.Base.BaseVec<Opal.NetApi.Generated.Model.ethereum.log.Log>> _currentLogsTypedStorage;
        
        /// <summary>
        /// EVMStorage constructor.
        /// </summary>
        public EVMStorage(IStorageDataProvider storageDataProvider, List<IStorageChangeDelegate> storageChangeDelegates)
        {
            this.AccountCodesTypedStorage = new TypedMapStorage<Substrate.NetApi.Model.Types.Base.BaseVec<Substrate.NetApi.Model.Types.Primitive.U8>>("EVM.AccountCodes", storageDataProvider, storageChangeDelegates);
            this.AccountCodesMetadataTypedStorage = new TypedMapStorage<Opal.NetApi.Generated.Model.pallet_evm.CodeMetadata>("EVM.AccountCodesMetadata", storageDataProvider, storageChangeDelegates);
            this.AccountStoragesTypedStorage = new TypedMapStorage<Opal.NetApi.Generated.Model.primitive_types.H256>("EVM.AccountStorages", storageDataProvider, storageChangeDelegates);
            this.CurrentLogsTypedStorage = new TypedStorage<Substrate.NetApi.Model.Types.Base.BaseVec<Opal.NetApi.Generated.Model.ethereum.log.Log>>("EVM.CurrentLogs", storageDataProvider, storageChangeDelegates);
        }
        
        /// <summary>
        /// _accountCodesTypedStorage property
        /// </summary>
        public TypedMapStorage<Substrate.NetApi.Model.Types.Base.BaseVec<Substrate.NetApi.Model.Types.Primitive.U8>> AccountCodesTypedStorage
        {
            get
            {
                return _accountCodesTypedStorage;
            }
            set
            {
                _accountCodesTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _accountCodesMetadataTypedStorage property
        /// </summary>
        public TypedMapStorage<Opal.NetApi.Generated.Model.pallet_evm.CodeMetadata> AccountCodesMetadataTypedStorage
        {
            get
            {
                return _accountCodesMetadataTypedStorage;
            }
            set
            {
                _accountCodesMetadataTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _accountStoragesTypedStorage property
        /// </summary>
        public TypedMapStorage<Opal.NetApi.Generated.Model.primitive_types.H256> AccountStoragesTypedStorage
        {
            get
            {
                return _accountStoragesTypedStorage;
            }
            set
            {
                _accountStoragesTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _currentLogsTypedStorage property
        /// </summary>
        public TypedStorage<Substrate.NetApi.Model.Types.Base.BaseVec<Opal.NetApi.Generated.Model.ethereum.log.Log>> CurrentLogsTypedStorage
        {
            get
            {
                return _currentLogsTypedStorage;
            }
            set
            {
                _currentLogsTypedStorage = value;
            }
        }
        
        /// <summary>
        /// Connects to all storages and initializes the change subscription handling.
        /// </summary>
        public async Task InitializeAsync(Substrate.ServiceLayer.Storage.IStorageDataProvider dataProvider)
        {
            await AccountCodesTypedStorage.InitializeAsync("EVM", "AccountCodes");
            await AccountCodesMetadataTypedStorage.InitializeAsync("EVM", "AccountCodesMetadata");
            await AccountStoragesTypedStorage.InitializeAsync("EVM", "AccountStorages");
            await CurrentLogsTypedStorage.InitializeAsync("EVM", "CurrentLogs");
        }
        
        /// <summary>
        /// Implements any storage change for EVM.AccountCodes
        /// </summary>
        [StorageChange("EVM", "AccountCodes")]
        public void OnUpdateAccountCodes(string key, string data)
        {
            AccountCodesTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> AccountCodes
        /// </summary>
        public Substrate.NetApi.Model.Types.Base.BaseVec<Substrate.NetApi.Model.Types.Primitive.U8> GetAccountCodes(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (AccountCodesTypedStorage.Dictionary.TryGetValue(key, out Substrate.NetApi.Model.Types.Base.BaseVec<Substrate.NetApi.Model.Types.Primitive.U8> result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for EVM.AccountCodesMetadata
        /// </summary>
        [StorageChange("EVM", "AccountCodesMetadata")]
        public void OnUpdateAccountCodesMetadata(string key, string data)
        {
            AccountCodesMetadataTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> AccountCodesMetadata
        /// </summary>
        public Opal.NetApi.Generated.Model.pallet_evm.CodeMetadata GetAccountCodesMetadata(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (AccountCodesMetadataTypedStorage.Dictionary.TryGetValue(key, out Opal.NetApi.Generated.Model.pallet_evm.CodeMetadata result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for EVM.AccountStorages
        /// </summary>
        [StorageChange("EVM", "AccountStorages")]
        public void OnUpdateAccountStorages(string key, string data)
        {
            AccountStoragesTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> AccountStorages
        /// </summary>
        public Opal.NetApi.Generated.Model.primitive_types.H256 GetAccountStorages(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (AccountStoragesTypedStorage.Dictionary.TryGetValue(key, out Opal.NetApi.Generated.Model.primitive_types.H256 result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for EVM.CurrentLogs
        /// </summary>
        [StorageChange("EVM", "CurrentLogs")]
        public void OnUpdateCurrentLogs(string data)
        {
            CurrentLogsTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> CurrentLogs
        ///  Written on log, reset after transaction
        ///  Should be empty between transactions
        /// </summary>
        public Substrate.NetApi.Model.Types.Base.BaseVec<Opal.NetApi.Generated.Model.ethereum.log.Log> GetCurrentLogs()
        {
            return CurrentLogsTypedStorage.Get();
        }
    }
}
